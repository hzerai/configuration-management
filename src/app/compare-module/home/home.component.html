<div *ngIf="configs.length == 0" class="d-flex align-items-center flex-column">
  <p *ngIf="!configs || configs.length == 0" class="fs-3 ms-2">
    No configurations were founds
  </p>
  <img src="assets\img\no-data-found.jpg" alt="not-found" style="width: 50%" />
  <a class="btn btn-primary" type="button" href="/init">New configuration</a>
</div>
<div *ngIf="configs.length > 0">
  <p class="fs-3 ms-2">Saved configurations</p>
  <div class="list-group">
    <div
      role="button"
      *ngFor="let config of configs; let i = index"
      class="list-group-item list-group-item-action border rounded shadow mb-4 pointer-cursor"
    >
      <div class="d-flex w-100 justify-content-between">
        <h5 class="mb-1">{{ config.name }}</h5>
        <small>{{ config.created_at | date: "full" }}</small>
      </div>
      <div class="d-flex w-100 justify-content-between">
        <div>
          <p class="mt-3">
            {{
              "Source environment  : " +
                config.source_connection.databaseType +
                "//" +
                config.source_connection.hostname +
                ":" +
                config.source_connection.port +
                "/" +
                config.source_connection.database
            }}
            <br />

            <small
              >(
              {{
                config.scripts.executed
                  ? "init scripts already executed."
                  : config.scripts.generated
                  ? "init scripts were generated."
                  : "init scripts are not generated yet."
              }})
            </small>
          </p>
          <hr />
          <p>
            {{
              "Target environment  : " +
                config.target_connection.databaseType +
                "//" +
                config.target_connection.hostname +
                ":" +
                config.target_connection.port +
                "/" +
                config.target_connection.database
            }}
            <br />
            <small
              >(
              {{
                config.initial_state?.generated
                  ? "Initial state were generated."
                  : config.initial_state?.skipped
                  ? "Initial state were skipped."
                  : "Initial state are not generated yet."
              }})
            </small>
          </p>
        </div>
        <div class="d-flex flex-column mt-2">
          <a
            class="btn btn-primary"
            type="button"
            [routerLink]="['./', config.name]"
            ><small>Select configuration</small></a
          >
          <a
            class="btn btn-outline-info mt-2"
            type="button"
            [routerLink]="['/init']"
            [queryParams]="{ edit: config.name }"
            ><small>View / edit configuration</small></a
          >
          <Button
            (click)="deleteConfig(config.name)"
            class="btn btn-outline-danger mt-2"
            type="button"
            ><small>Delete configuration</small></Button
          >
        </div>
      </div>
    </div>
  </div>
  <div class="text-center">
    <a class="btn btn-success" type="button" href="/init">New configuration</a>
  </div>
</div>
