<div class="w-75 mx-auto mt-5">
  <div
    *ngIf="configs.length == 0"
    class="d-flex align-items-center flex-column"
  >
    <p *ngIf="!configs || configs.length == 0" class="fs-3 ms-2">
      No configurations were founds
    </p>
    <img
      src="assets\img\no-data-found.jpg"
      alt="not-found"
      style="width: 50%"
    />
    <a class="btn btn-primary" type="button" [routerLink]="['/init']"
      >New configuration</a
    >
  </div>
  <div *ngIf="configs.length > 0">
    <div class="d-flex justify-content-between align-items-center">
      <p class="fs-5 mt-2 ms-2">Saved configurations</p>
      <a class="btn btn-outline-light" type="button" [routerLink]="['/init']"
        >New configuration</a
      >
    </div>
    <div class="list-group mt-2">
      <div
        role="button"
        *ngFor="let config of configs; let i = index"
        class="list-group-item bg2 border rounded shadow mb-4 pointer-cursor"
      >
        <div class="d-flex w-100 justify-content-between">
          <h5 class="mb-1 text-white fw-bold">{{ config.name }}</h5>
          <small>{{ config.created_at | date: "full" }}</small>
        </div>
        <div class="d-flex w-100 justify-content-between">
          <div>
            <p class="mt-3">
              {{
                "Git  : " +
                  config.git.repository +
                  ", branch = " +
                  config.git.branch
              }}
            </p>
            <hr />
            <p>
              {{
                "Database  : " +
                  config.source_connection.databaseType +
                  "//" +
                  config.source_connection.hostname +
                  ":" +
                  config.source_connection.port +
                  "/" +
                  config.source_connection.database
              }}
            </p>
            <hr />
            <p class="fw-bold pb-0 mb-0">
              {{ config.initialized ? "Initialized" : "Not Initialized" }}
            </p>
          </div>
          <div class="d-flex flex-column mt-2">
            <button
              [title]="config.initialized ? 'Initialized' : 'Not Initialized'"
              [disabled]="!this.config.initialized"
              class="btn btn-primary fs-5"
              type="button"
              (click)="step(config)"
            >
              <small>Select configuration</small>
            </button>
            <a
              class="btn btn-outline-info mt-2"
              type="button"
              [routerLink]="['/init']"
              [queryParams]="{ edit: config.name }"
              ><small>View / edit configuration</small></a
            >
            <Button
              (click)="deleteConfig(config.name)"
              class="btn btn-outline-danger mt-2"
              type="button"
              ><small>Delete configuration</small></Button
            >
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
